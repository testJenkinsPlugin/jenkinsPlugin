<?jelly escape-by-default='true' encoding='UTF-8'?>
<j:jelly xmlns:d="jelly:define" xmlns:f="/lib/form" xmlns:g="glide" xmlns:i="jelly:fmt" xmlns:j="jelly:core" xmlns:l="/lib/layout" xmlns:p="/lib/hudson/project" xmlns:st="jelly:stapler" xmlns:t="/lib/hudson">
    <div class="builders-group" name="builders${builderSuffix}">
        <label class="close-builder" name="closeBuilder" onclick="configurator.closeElement(this)">X</label>
        <!--<label>${builderStatus}</label>-->
        <j:if test="${builderStatus.equals('DELETED')}">
            <label class="projectToBuild_status_deleted">DELETED! </label>
        </j:if>
        <j:if test="${builderStatus.equals('NEW')}">
            <label class="projectToBuild_status_new">NEW! </label>
        </j:if>
        <div class="div-drop-down">
            <j:if test="${view_old_builder != null and view_old_builder.getBuilder() != null}">
                <label style=" float: right; color: brown;">${view_old_builder.getBuilder()}</label>
                <br/>
            </j:if>
            <label>Builder:</label>
            <select name="builder" style="float: right;">
                <j:forEach indexVar="i" items="${builders}" var="build">
                    <j:if test="${build.getValue() == view.getBuilder()}">
                        <option selected="selected" value="${build.getValue()}">${build.getValue()}</option>
                    </j:if>
                    <j:if test="${build.getValue() != view.getBuilder()}">
                        <option value="${build.getValue()}">${build.getValue()}</option>
                    </j:if>
                </j:forEach>
            </select>
        </div>
        <div class="div-drop-down">
            <j:if test="${view_old_builder != null and view_old_builder.getPlatform() != null}">
                <label style="float: right; color: brown;">${view_old_builder.getPlatform()}</label>
                <br/>
            </j:if>
            <label>Platform:</label>
            <select name="platform" style="float: right;">
                <j:forEach indexVar="i" items="${platforms}" var="platform">
                    <j:if test="${platform == view.getPlatform()}">
                        <option selected="selected" value="${platform}">${platform}</option>
                    </j:if>
                    <j:if test="${platform != view.getPlatform()}">
                        <option value="${platform}">${platform}</option>
                    </j:if>
                </j:forEach>
            </select>
        </div>
        <br/>
        <div class="builder-config">
            <j:if test="${view_old_builder != null}">
                <label>${view_old_builder.getConfigurationsAsString()}</label>
                <br/>
            </j:if>
            <label>Configuration:</label>
            <j:if test="${view.isConfigChecked('RELEASE')}">
                <input checked="checked" name="release" type="checkbox"/>Release</j:if>
            <j:if test="${!view.isConfigChecked('RELEASE')}">
                <input name="release" type="checkbox"/>Release</j:if>
            <j:if test="${view.isConfigChecked('DEBUG')}">
                <input checked="checked" name="debug" type="checkbox"/>Debug</j:if>
            <j:if test="${!view.isConfigChecked('DEBUG')}">
                <input name="debug" type="checkbox"/>Debug</j:if>
            <j:if test="${view.isConfigChecked('OTHER')}">
                <input checked="checked" name="other" onclick="configurator.disableOtherConfig(this)" type="checkbox"/>Other
                
                <input field="userConfig_${divID}" name="userConfig" type="text" value="${view.getUserConfig()}"/></j:if>
            <j:if test="${!view.isConfigChecked('OTHER')}">
                <input name="other" onclick="configurator.disableOtherConfig(this)" type="checkbox"/>Other
                
                <input class="hidden" field="userConfig_${divID}" name="userConfig" type="text"/></j:if>
        </div>
        <br/>
        <j:if test="${isAdmin}">
            <div class="args">
                <label>Command line args:</label>
                <br/>
                <j:if test="${view_old_builder != null and view_old_builder.getBuilderArgs() != null}">
                    <label style="color: brown;">&quot;${view_old_builder.getBuilderArgs()}&quot;</label>
                    <br/>
                </j:if>
                <input name="builderArgs" type="text" value="${view.getBuilderArgs()}"/>
                <input name="guid" type="hidden" value="${view.getGuid()}"/>
            </div>
        </j:if>
        <j:if test="${!isAdmin}">
            <div class="args display-none">
                <label>Command line args:</label>
                <br/>
                <input name="builderArgs" type="text" value="${view.getBuilderArgs()}"/>
                <input name="guid" type="hidden" value="${view.getGuid()}"/>
            </div>
        </j:if>
    </div>
    <j:forEach indexVar="i" items="s" var="config"/>
</j:jelly>