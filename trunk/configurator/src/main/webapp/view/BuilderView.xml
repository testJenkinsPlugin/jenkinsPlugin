<?jelly escape-by-default='true' encoding='UTF-8'?>

<j:jelly xmlns:j="jelly:core"
   xmlns:st="jelly:stapler"
   xmlns:d="jelly:define"
   xmlns:l="/lib/layout"
   xmlns:t="/lib/hudson"
   xmlns:f="/lib/form"
   xmlns:i="jelly:fmt"
   xmlns:p="/lib/hudson/project"
   xmlns:g="glide"
   >
    <div name="builders" class="builders-group">
        <label onclick="configurator.closeElement(this)" class="close-builder" name="closeBuilder">X</label>


        <div class="div-drop-down">
            <label>Builder:</label>
            <select name="builder">
                
                <j:forEach items="${builders}" var="build" indexVar="i">
                    <j:if test="${build.getValue() == view.getBuilder()}">
                        <option selected="selected" value="${build.getValue()}">${build.getValue()}</option>
                    </j:if>
                    <j:if test="${build.getValue() != view.getBuilder()}">
                        <option value="${build.getValue()}">${build.getValue()}</option>
                    </j:if>
                </j:forEach>
            </select>
        </div>

        <div class="div-drop-down">
            <label>Platform:</label>
            <select name="platform">
                <j:forEach items="${platforms}" var="platform" indexVar="i">
                    <j:if test="${platform == view.getPlatform()}">
                        <option selected="selected" value="${platform}">${platform}</option>
                    </j:if>
                    <j:if test="${platform != view.getPlatform()}">
                        <option value="${platform}">${platform}</option>
                    </j:if>
                </j:forEach>
            </select>
        </div>

        <div class="div-drop-down">
            <div class="div-configuration">
                <label>Configuration:</label>
            </div>

            <j:if test="${view.isConfigChecked('RELEASE')}">
                <input type="checkbox" checked="checked" name="release"/>Release
            </j:if>
            <j:if test="${!view.isConfigChecked('RELEASE')}">
                <input type="checkbox" name="release"/>Release
            </j:if>
            <br/>

            <j:if test="${view.isConfigChecked('DEBUG')}">
                <input type="checkbox" checked="checked" name="debug"/>Debug
            </j:if>
            <j:if test="${!view.isConfigChecked('DEBUG')}">
                <input type="checkbox" name="debug"/>Debug
            </j:if>
            <br/>

            <j:if test="${view.isConfigChecked('OTHER')}">
                <input type="checkbox" name="other" checked="checked" onclick="configurator.disableOtherConfig(this)"/>Other
                <input type="text" name="userConfig" value="${view.getUserConfig()}" class="other-config" field="userConfig_${divID}"/>
            </j:if>
            <j:if test="${!view.isConfigChecked('OTHER')}">
                <input type="checkbox" name="other" onclick="configurator.disableOtherConfig(this)"/>Other
                <input type="text" name="userConfig" disabled="false" class="other-config" field="userConfig_${divID}"/>
            </j:if>
        </div>
<br/>

        <j:if test="${isAdmin}">
            <div class="args">
                <label>Command line args:</label><br/>
                <input type="text" name="builderArgs" value = "${view.getBuilderArgs()}"/>

            </div>
        </j:if>

        <j:if test="${!isAdmin}">
            <div class="args display-none">
                <label>Command line args:</label><br/>
                <input type="text" name="builderArgs" value = "${view.getBuilderArgs()}"/>
            </div>
        </j:if>

    </div>
    <j:forEach items="s" var="config" indexVar="i">
    </j:forEach>
</j:jelly>